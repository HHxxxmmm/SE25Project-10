# 浏览器可见提示消息测试说明

## 概述
本文档说明添加乘车人功能中所有在浏览器页面上可见的提示消息，这些消息使用 Antd 的 `message` 组件显示，用户可以直接在浏览器中看到。

## 提示消息类型

### 1. 权限检查提示

#### 达到上限警告
- **触发条件**: 用户已有3个关联乘车人时点击"添加乘车人"按钮
- **显示位置**: 浏览器页面顶部，黄色警告消息
- **消息内容**: "已达到最大乘车人数量限制（3人）"
- **显示方式**: `message.warning()`

#### 权限检查失败
- **触发条件**: 检查权限时网络错误或其他异常
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "检查权限失败，请稍后重试"
- **显示方式**: `message.error()`

### 2. 添加乘车人提示

#### 成功添加
- **触发条件**: 乘车人添加成功
- **显示位置**: 浏览器页面顶部，绿色成功消息
- **消息内容**: "乘车人添加成功！"
- **显示方式**: `message.success()`

#### 达到上限错误
- **触发条件**: 尝试为已满用户添加乘车人
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "已达到最大乘车人数量限制（3人），无法继续添加"
- **显示方式**: `message.error()`

#### 重复添加错误
- **触发条件**: 尝试添加已关联的乘车人
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "该乘车人已被添加，请勿重复添加"
- **显示方式**: `message.error()`

#### 信息无效错误
- **触发条件**: 添加不存在的乘客或信息不匹配
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "该乘车人信息无效，请检查姓名、身份证号和手机号是否正确"
- **显示方式**: `message.error()`

#### 用户错误
- **触发条件**: 用户信息错误
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "用户信息错误，请重新登录"
- **显示方式**: `message.error()`

#### 网络错误
- **触发条件**: 网络连接失败
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "添加失败，请检查网络连接"
- **显示方式**: `message.error()`

### 3. 表单验证提示

#### 必填字段验证
- **触发条件**: 不填写姓名、身份证号或手机号
- **显示位置**: 浏览器页面顶部，红色错误消息
- **消息内容**: "请填写完整信息"
- **显示方式**: `message.error()`

## 测试用例

### 1. 权限检查测试

#### 测试用户1（已满3人）
1. 访问提交订单页面或个人中心页面
2. 点击"添加乘车人"按钮
3. **预期结果**: 在浏览器页面顶部看到黄色警告消息："已达到最大乘车人数量限制（3人）"
4. **验证**: 弹窗不会打开

#### 测试用户2（0人）
1. 访问提交订单页面或个人中心页面
2. 点击"添加乘车人"按钮
3. **预期结果**: 正常打开添加乘车人弹窗，无警告消息

### 2. 添加功能测试

#### 成功添加测试
1. 打开添加乘车人弹窗
2. 填写有效信息：
   - 姓名：郑永军
   - 身份证号：531318196507019109
   - 手机号：17737104515
3. 点击"添加乘车人"按钮
4. **预期结果**: 在浏览器页面顶部看到绿色成功消息："乘车人添加成功！"
5. **验证**: 弹窗自动关闭，表单清空

#### 重复添加测试
1. 尝试添加已关联的乘车人
2. **预期结果**: 在浏览器页面顶部看到红色错误消息："该乘车人已被添加，请勿重复添加"

#### 信息无效测试
1. 填写不存在的乘客信息
2. **预期结果**: 在浏览器页面顶部看到红色错误消息："该乘车人信息无效，请检查姓名、身份证号和手机号是否正确"

### 3. 表单验证测试

#### 必填字段测试
1. 不填写姓名，点击"添加乘车人"按钮
2. **预期结果**: 在浏览器页面顶部看到红色错误消息："请填写完整信息"

## 消息显示特点

### 1. 消息类型
- **成功消息**: 绿色背景，白色文字
- **警告消息**: 黄色背景，深色文字
- **错误消息**: 红色背景，白色文字

### 2. 显示位置
- 所有消息都显示在浏览器页面顶部
- 消息会自动消失（通常3-5秒）
- 可以手动关闭消息

### 3. 消息内容
- 所有消息都是中文
- 消息内容清晰明确
- 错误消息包含具体的错误原因

## 技术实现

### 1. 使用的组件
```javascript
import { message } from 'antd';
```

### 2. 消息调用方式
```javascript
// 成功消息
message.success('乘车人添加成功！');

// 警告消息
message.warning('已达到最大乘车人数量限制（3人）');

// 错误消息
message.error('该乘车人已被添加，请勿重复添加');
```

### 3. 消息特点
- ✅ 浏览器可见：所有消息都在浏览器页面上显示
- ✅ 自动消失：消息会在几秒后自动消失
- ✅ 可手动关闭：用户可以点击关闭按钮
- ✅ 颜色区分：不同类型的消息有不同的颜色
- ✅ 中文友好：所有消息都是中文，用户友好

## 验证要点

1. **消息可见性**: 所有提示消息都必须在浏览器页面上可见
2. **消息准确性**: 消息内容必须准确反映当前状态
3. **消息及时性**: 消息应该在相应操作后立即显示
4. **消息友好性**: 消息内容应该用户友好，易于理解
5. **消息一致性**: 相同类型的错误应该显示相同的消息

## 注意事项

1. **网络环境**: 确保网络连接正常，避免网络错误消息
2. **浏览器兼容性**: 测试不同浏览器的消息显示效果
3. **消息堆叠**: 多个消息同时显示时的效果
4. **消息关闭**: 验证用户可以手动关闭消息
5. **消息自动消失**: 验证消息会在适当时间后自动消失 